(this.webpackJsonp=this.webpackJsonp||[]).push([[6],{600:function(t,e,n){"use strict";n.r(e);var r={name:"Auth",data:function(){return{step:1,steps:6,loading:!1,password_visible:!1,user_email:"",user_name:"",user_password:"",user_password_confirm:"",captcha:"",email_valid:!0,name_valid:!0,password_valid:!0,captcha_valid:!0,emailRules:[function(t){return!!t||"电子邮箱不能为空"},function(t){return t&&/.+@.+\..+/.test(t)||"电子邮箱无效"}],passwordRules:[function(t){return!!t||"密码不能为空"},function(t){return t&&t.length>=6||"密码不少于 6 个字符"}],nameRules:[function(t){return!!t||"用户名不能为空"}],captchaRules:[function(t){return!!t||"验证码不能为空"}]}},head:function(){return{title:"注册"}},computed:{currentTitle:function(){switch(this.step){case 1:return"注册";case 2:return"设置用户名";case 3:return"设置密码";case 4:return"输入验证码";case 5:return"正在注册";default:return"已注册"}}},methods:{next:function(){1===this.step?(this.email_valid=this.$refs.email_form.validate(),this.email_valid&&this.step++):2===this.step?(this.name_valid=this.$refs.name_form.validate(),this.name_valid&&this.step++):3===this.step?(this.password_valid=this.$refs.password_form.validate(),this.password_valid&&this.step++):4===this.step&&(this.captcha_valid=this.$refs.captchaform.validate(),this.captcha_valid&&this.step++),this.step===this.steps-1&&this.register()},register:function(){var t=this;this.loading=!0,setTimeout((function(){t.loading=!1,t.step=t.steps}),3e3)}}},l=n(57),c=n(76),o=n.n(c),d=n(155),v=n(303),_=n(324),m=n(323),h=n(322),f=n(346),x=n(345),w=n(208),y=n(361),k=n(316),C=n(307),V=n(347),S=n(348),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"d-flex justify-center"},[n("v-card",{staticStyle:{width:"400px",padding:"16px"},attrs:{elevation:"0",color:"transparent"}},[n("v-lazy",{staticStyle:{"text-align":"center"},attrs:{transition:"fade-transition","min-height":"71"}},[n("img",{attrs:{src:"/GitScratch-icon-background-blue.svg",width:"64"}})]),t._v(" "),n("v-card-title",{staticClass:"text-h6 font-weight-regular justify-space-between"},[n("span",[t._v(t._s(t.currentTitle))]),t._v(" "),t.step<=3?n("v-avatar",{staticClass:"subheading white--text",attrs:{color:"primary",size:"24"},domProps:{textContent:t._s(t.step)}}):t._e()],1),t._v(" "),n("v-window",{attrs:{touchless:""},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[n("v-window-item",{attrs:{value:1}},[n("v-card-text",[n("v-form",{ref:"email_form",attrs:{"lazy-validation":""},model:{value:t.email_valid,callback:function(e){t.email_valid=e},expression:"email_valid"}},[n("v-text-field",{attrs:{label:"电子邮箱",rules:t.emailRules},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.next(e)}},model:{value:t.user_email,callback:function(e){t.user_email=e},expression:"user_email"}})],1),t._v(" "),n("span",{staticClass:"text-caption grey--text text--darken-1"},[t._v("\n            这个电子邮箱将用于登录 GitScratch。\n          ")])],1)],1),t._v(" "),n("v-window-item",{attrs:{value:2}},[n("v-card-text",[n("v-form",{ref:"name_form",attrs:{"lazy-validation":""},model:{value:t.name_valid,callback:function(e){t.name_valid=e},expression:"name_valid"}},[n("v-text-field",{attrs:{label:"用户名",rules:t.nameRules},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.next(e)}},model:{value:t.user_name,callback:function(e){t.user_name=e},expression:"user_name"}})],1),t._v(" "),n("span",{staticClass:"text-caption grey--text text--darken-1"},[t._v("\n            在 GitScratch 中显示的用户名。\n          ")])],1)],1),t._v(" "),n("v-window-item",{attrs:{value:3}},[n("v-card-text",[n("v-form",{ref:"password_form",attrs:{"lazy-validation":""},model:{value:t.password_valid,callback:function(e){t.password_valid=e},expression:"password_valid"}},[n("v-text-field",{attrs:{label:"密码",type:t.password_visible?"text":"password",rules:t.passwordRules,"append-icon":t.password_visible?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(e){t.password_visible=!t.password_visible},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.next(e)}},model:{value:t.user_password,callback:function(e){t.user_password=e},expression:"user_password"}})],1),t._v(" "),n("span",{staticClass:"text-caption grey--text text--darken-1"},[t._v("\n            为你的帐号设置一个密码。\n          ")])],1)],1),t._v(" "),n("v-window-item",{attrs:{value:4}},[n("v-card-text",[n("v-form",{ref:"captchaform",attrs:{"lazy-validation":""},model:{value:t.captcha_valid,callback:function(e){t.captcha_valid=e},expression:"captcha_valid"}},[n("v-img",{attrs:{src:"/captcha.png"}}),t._v(" "),n("v-text-field",{staticStyle:{"border-radius":"4px"},attrs:{label:"验证码",rules:t.captchaRules,type:"number"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.next(e)}},model:{value:t.captcha,callback:function(e){t.captcha=e},expression:"captcha"}})],1),t._v(" "),n("span",{staticClass:"text-caption grey--text text--darken-1"},[t._v("\n            输入验证码（图中事件发生的年份，公元前加“-”）\n          ")])],1)],1),t._v(" "),n("v-window-item",{attrs:{value:5}},[n("v-card-text",[n("h3",{staticClass:"text-h6 font-weight-light"},[t._v("\n            与君初相识，犹如故人归。\n          ")])])],1),t._v(" "),n("v-window-item",{attrs:{value:6}},[n("div",{staticClass:"pa-4 text-center"},[t.$vuetify.theme.dark?t._e():n("v-img",{staticClass:"mb-4",attrs:{contain:"",height:"128",src:"/GitScratch-icon-black.svg"}}),t._v(" "),t.$vuetify.theme.dark?n("v-img",{staticClass:"mb-4",attrs:{contain:"",height:"128",src:"/GitScratch-icon-white.svg"}}):t._e(),t._v(" "),n("h3",{staticClass:"text-h6"},[t._v("\n            欢迎加入 GitScratch！\n          ")]),t._v(" "),n("span",{staticClass:"text-caption grey--text text--darken-1"},[t._v("\n            现在，你可以"),n("router-link",{attrs:{to:"/scratch-gui"}},[t._v("开始创作")]),t._v("，或者"),n("router-link",{attrs:{to:"/"}},[t._v("回到首页")]),t._v("。\n          ")],1)],1)])],1),t._v(" "),n("v-divider"),t._v(" "),n("v-card-actions",[n("transition",{attrs:{name:"slide-y-reverse-transition"}},[1===t.step||t.step>=4?t._e():n("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(e){t.step--}}},[t._v("\n          上一步\n        ")])],1),t._v(" "),n("v-spacer"),t._v(" "),n("v-btn",{attrs:{loading:t.loading,disabled:!(t.email_valid&&t.name_valid&&t.password_valid&&t.captcha_valid),color:"primary",depressed:"",to:t.step===t.steps?"/":""},on:{click:function(e){return t.next()}}},[t._v("\n        "+t._s(t.step===t.steps?"完成":"下一步")+"\n      ")])],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;o()(component,{VAvatar:d.a,VBtn:v.a,VCard:_.a,VCardActions:m.a,VCardText:m.b,VCardTitle:m.c,VContainer:h.a,VDivider:f.a,VForm:x.a,VImg:w.a,VLazy:y.a,VSpacer:k.a,VTextField:C.a,VWindow:V.a,VWindowItem:S.a})}}]);