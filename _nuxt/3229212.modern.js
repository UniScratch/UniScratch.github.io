(this.webpackJsonp=this.webpackJsonp||[]).push([[6],{517:function(t,e,a){"use strict";a.r(e);var s={name:"Auth",data:()=>({step:1,steps:6,loading:!1,password_visible:!1,user_email:"",user_name:"",user_password:"",user_password_confirm:"",captcha:"",email_valid:!0,name_valid:!0,password_valid:!0,captcha_valid:!0,emailRules:[t=>!!t||"电子邮箱不能为空",t=>t&&/.+@.+\..+/.test(t)||"电子邮箱无效"],passwordRules:[t=>!!t||"密码不能为空",t=>t&&t.length>=6||"密码不少于 6 个字符"],nameRules:[t=>!!t||"用户名不能为空"],captchaRules:[t=>!!t||"验证码不能为空"]}),head:()=>({title:"注册"}),computed:{currentTitle(){switch(this.step){case 1:return"注册";case 2:return"设置用户名";case 3:return"设置密码";case 4:return"输入验证码";case 5:return"正在注册";default:return"已注册"}}},methods:{next(){1===this.step?(this.email_valid=this.$refs.email_form.validate(),this.email_valid&&this.step++):2===this.step?(this.name_valid=this.$refs.name_form.validate(),this.name_valid&&this.step++):3===this.step?(this.password_valid=this.$refs.password_form.validate(),this.password_valid&&this.step++):4===this.step&&(this.captcha_valid=this.$refs.captchaform.validate(),this.captcha_valid&&this.step++),this.step===this.steps-1&&this.register()},register(){this.loading=!0,setTimeout((()=>{this.loading=!1,this.step=this.steps}),3e3)}}},i=a(31),r=a(43),n=a.n(r),l=a(105),c=a(224),o=a(245),d=a(244),v=a(243),p=a(263),u=a(262),_=a(139),m=a(278),h=a(237),f=a(228),x=a(264),w=a(265),y=Object(i.a)(s,(function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-container",{staticClass:"d-flex justify-center"},[a("v-card",{staticStyle:{width:"400px",padding:"16px"},attrs:{elevation:"0",color:"transparent"}},[a("v-lazy",{staticStyle:{"text-align":"center"},attrs:{transition:"fade-transition","min-height":"71"}},[a("img",{attrs:{src:"/GitScratch-icon-background-blue.svg",width:"64"}})]),t._v(" "),a("v-card-title",{staticClass:"text-h6 font-weight-regular justify-space-between"},[a("span",[t._v(t._s(t.currentTitle))]),t._v(" "),t.step<=3?a("v-avatar",{staticClass:"subheading white--text",attrs:{color:"primary",size:"24"},domProps:{textContent:t._s(t.step)}}):t._e()],1),t._v(" "),a("v-window",{attrs:{touchless:""},model:{value:t.step,callback:function(e){t.step=e},expression:"step"}},[a("v-window-item",{attrs:{value:1}},[a("v-card-text",[a("v-form",{ref:"email_form",attrs:{"lazy-validation":""},model:{value:t.email_valid,callback:function(e){t.email_valid=e},expression:"email_valid"}},[a("v-text-field",{attrs:{label:"电子邮箱",rules:t.emailRules},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.next(e)}},model:{value:t.user_email,callback:function(e){t.user_email=e},expression:"user_email"}})],1),t._v(" "),a("span",{staticClass:"text-caption grey--text text--darken-1"},[t._v("\n            这个电子邮箱将用于登录 GitScratch。\n          ")])],1)],1),t._v(" "),a("v-window-item",{attrs:{value:2}},[a("v-card-text",[a("v-form",{ref:"name_form",attrs:{"lazy-validation":""},model:{value:t.name_valid,callback:function(e){t.name_valid=e},expression:"name_valid"}},[a("v-text-field",{attrs:{label:"用户名",rules:t.nameRules},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.next(e)}},model:{value:t.user_name,callback:function(e){t.user_name=e},expression:"user_name"}})],1),t._v(" "),a("span",{staticClass:"text-caption grey--text text--darken-1"},[t._v("\n            在 GitScratch 中显示的用户名。\n          ")])],1)],1),t._v(" "),a("v-window-item",{attrs:{value:3}},[a("v-card-text",[a("v-form",{ref:"password_form",attrs:{"lazy-validation":""},model:{value:t.password_valid,callback:function(e){t.password_valid=e},expression:"password_valid"}},[a("v-text-field",{attrs:{label:"密码",type:t.password_visible?"text":"password",rules:t.passwordRules,"append-icon":t.password_visible?"mdi-eye":"mdi-eye-off"},on:{"click:append":function(e){t.password_visible=!t.password_visible},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.next(e)}},model:{value:t.user_password,callback:function(e){t.user_password=e},expression:"user_password"}})],1),t._v(" "),a("span",{staticClass:"text-caption grey--text text--darken-1"},[t._v("\n            为你的帐号设置一个密码。\n          ")])],1)],1),t._v(" "),a("v-window-item",{attrs:{value:4}},[a("v-card-text",[a("v-form",{ref:"captchaform",attrs:{"lazy-validation":""},model:{value:t.captcha_valid,callback:function(e){t.captcha_valid=e},expression:"captcha_valid"}},[a("v-img",{attrs:{src:"/captcha.png"}}),t._v(" "),a("v-text-field",{staticStyle:{"border-radius":"4px"},attrs:{label:"验证码",rules:t.captchaRules,type:"number"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.next(e)}},model:{value:t.captcha,callback:function(e){t.captcha=e},expression:"captcha"}})],1),t._v(" "),a("span",{staticClass:"text-caption grey--text text--darken-1"},[t._v("\n            输入验证码（图中事件发生的年份，公元前加“-”）\n          ")])],1)],1),t._v(" "),a("v-window-item",{attrs:{value:5}},[a("v-card-text",[a("h3",{staticClass:"text-h6 font-weight-light"},[t._v("\n            与君初相识，犹如故人归。\n          ")])])],1),t._v(" "),a("v-window-item",{attrs:{value:6}},[a("div",{staticClass:"pa-4 text-center"},[t.$vuetify.theme.dark?t._e():a("v-img",{staticClass:"mb-4",attrs:{contain:"",height:"128",src:"/GitScratch-icon-black.svg"}}),t._v(" "),t.$vuetify.theme.dark?a("v-img",{staticClass:"mb-4",attrs:{contain:"",height:"128",src:"/GitScratch-icon-white.svg"}}):t._e(),t._v(" "),a("h3",{staticClass:"text-h6"},[t._v("\n            欢迎加入 GitScratch！\n          ")]),t._v(" "),a("span",{staticClass:"text-caption grey--text text--darken-1"},[t._v("\n            现在，你可以"),a("router-link",{attrs:{to:"/scratch-gui"}},[t._v("开始创作")]),t._v("，或者"),a("router-link",{attrs:{to:"/"}},[t._v("回到首页")]),t._v("。\n          ")],1)],1)])],1),t._v(" "),a("v-divider"),t._v(" "),a("v-card-actions",[a("transition",{attrs:{name:"slide-y-reverse-transition"}},[1===t.step||t.step>=4?t._e():a("v-btn",{attrs:{outlined:"",color:"primary"},on:{click:function(e){t.step--}}},[t._v("\n          上一步\n        ")])],1),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{loading:t.loading,disabled:!(t.email_valid&&t.name_valid&&t.password_valid&&t.captcha_valid),color:"primary",depressed:"",to:t.step===t.steps?"/":""},on:{click:function(e){return t.next()}}},[t._v("\n        "+t._s(t.step===t.steps?"完成":"下一步")+"\n      ")])],1)],1)],1)}),[],!1,null,null,null);e.default=y.exports,n()(y,{VAvatar:l.a,VBtn:c.a,VCard:o.a,VCardActions:d.a,VCardText:d.b,VCardTitle:d.c,VContainer:v.a,VDivider:p.a,VForm:u.a,VImg:_.a,VLazy:m.a,VSpacer:h.a,VTextField:f.a,VWindow:x.a,VWindowItem:w.a})}}]);